{% extends 'base.html' %}

{% block title %}Edit Product{% endblock %}

{% block content %}
<h1>Edit Product</h1>

<form method="POST" enctype="multipart/form-data">
    {{ form.hidden_tag() }}

    <div>
        <label for="name">Name</label>
        {{ form.name(class="form-control") }}
        {% if form.name.errors %}
            <ul class="errors">
                {% for error in form.name.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    </div>

    <div>
        <label for="description">Description</label>
        {{ form.description(class="form-control") }}
        {% if form.description.errors %}
            <ul class="errors">
                {% for error in form.description.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    </div>

    <div>
        <label for="price">Price</label>
        {{ form.price(class="form-control") }}
        {% if form.price.errors %}
            <ul class="errors">
                {% for error in form.price.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    </div>

    <div>
        <label for="img">Image</label>
        {{ form.img(class="form-control") }}
        {% if product.img %}
            <p>Current image: <img src="{{ url_for('static', filename='uploads/' + product.img) }}" alt="Product Image" width="100"></p>
        {% endif %}
        {% if form.img.errors %}
            <ul class="errors">
                {% for error in form.img.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    </div>

    <button type="submit" class="btn btn-primary">Save Changes</button>
</form>

<a href="{{ url_for('product_list') }}">Back to product list</a>
{% endblock %}
